<!DOCTYPE HTML>
<html lang="zh-cn">
<head>
<meta charset="UTF-8">
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<title>Oracle 相关 - 图书销售系统</title>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="" name="description">
<meta content="刘士" name="author">

<link href="../../../asserts/lsbook/less/website.css" rel="stylesheet">
<link href="../../../asserts/lsbook/katex/katex.min.css" rel="stylesheet">
<link href="../../../asserts/lsbook/lightbox/css/lightbox.min.css" rel="stylesheet">

<meta content="true" name="HandheldFriendly"/>
<meta content="width=device-width, initial-scale=1, user-scalable=no" name="viewport">
<meta content="yes" name="apple-mobile-web-app-capable">
<meta content="black" name="apple-mobile-web-app-status-bar-style">
<link href="../../../asserts/lsbook/images/apple-touch-icon-precomposed-152.png"
      rel="apple-touch-icon-precomposed" sizes="152x152">
<link href="../../../asserts/lsbook/images/favicon.ico" rel="shortcut icon" type="image/x-icon">
<!--分页-->
<link href="" rel="next"/>
</head>
<body>
<div class="book match-braces"><div class="book-summary">
    <div id="book-search-input" role="search">
        <input placeholder="输入并搜索" type="text"/>
    </div>
    <nav role="navigation">
        <ul class="summary">
            <li class="header" title="Summary">Summary</li>
<ul class="articles"><li class="chapter" data-level="1.1" data-path="../../index.html"><a href="../../index.html" title="介绍"><b>1.1.</b>介绍</a></li>
<li class="chapter" data-level="1.2" data-path="../index.html"><a href="../index.html" title="Oracle 部署"><b>1.2.</b>Oracle 部署</a></li>
<li class="chapter" data-level="1.3" data-path="../总结/语法总结.html"><a href="../总结/语法总结.html" title="Oracle 语法总结"><b>1.3.</b>Oracle 语法总结</a></li>
<li class="chapter" data-level="1.4" data-path="../概念/index.html"><a href="../概念/index.html" title="Oracle 概念"><b>1.4.</b>Oracle 概念</a>
<ul class="articles"><li class="chapter" data-level="1.4.1" data-path="../系统结构/系统结构概述.html"><a href="../系统结构/系统结构概述.html" title="系统结构概述"><b>1.4.1.</b>系统结构概述</a>
<ul class="articles"><li class="chapter" data-level="1.4.1.1" data-path="../系统结构/存储结构.html"><a href="../系统结构/存储结构.html" title="存储结构"><b>1.4.1.1.</b>存储结构</a></li>
<li class="chapter" data-level="1.4.1.2" data-path="../系统结构/内存结构.html"><a href="../系统结构/内存结构.html" title="内存结构"><b>1.4.1.2.</b>内存结构</a></li>
<li class="chapter" data-level="1.4.1.3" data-path="../系统结构/后台进程.html"><a href="../系统结构/后台进程.html" title="后台进程"><b>1.4.1.3.</b>后台进程</a></li>
<li class="chapter" data-level="1.4.1.4" data-path="../系统结构/数据字典.html"><a href="../系统结构/数据字典.html" title="数据字典"><b>1.4.1.4.</b>数据字典</a></li></ul></li>
<li class="chapter" data-level="1.4.2" data-path="../概念/数据库中的相关术语.html"><a href="../概念/数据库中的相关术语.html" title="数据库中的相关术语"><b>1.4.2.</b>数据库中的相关术语</a></li>
<li class="chapter" data-level="1.4.3" data-path="../概念/范式.html"><a href="../概念/范式.html" title="范式"><b>1.4.3.</b>范式</a></li>
<li class="chapter" data-level="1.4.4" data-path="../概念/E-R图.html"><a href="../概念/E-R图.html" title="E-R图"><b>1.4.4.</b>E-R图</a></li>
<li class="chapter" data-level="1.4.5" data-path="../概念/Oracle数据类型.html"><a href="../概念/Oracle数据类型.html" title="Oracle 数据类型"><b>1.4.5.</b>Oracle 数据类型</a></li></ul></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html" title="Oracle 练习汇总"><b>1.5.</b>Oracle 练习汇总</a>
<ul class="articles"><li class="chapter" data-level="1.5.1" data-path="0001.html"><a href="0001.html" title="Oracle 练习 0001"><b>1.5.1.</b>Oracle 练习 0001</a></li>
<li class="chapter" data-level="1.5.2" data-path="0002.html"><a href="0002.html" title="Oracle 练习 0002"><b>1.5.2.</b>Oracle 练习 0002</a></li>
<li class="chapter" data-level="1.5.3" data-path="0003.html"><a href="0003.html" title="Oracle 练习 0003"><b>1.5.3.</b>Oracle 练习 0003</a></li>
<li class="chapter" data-level="1.5.4" data-path="0004.html"><a href="0004.html" title="Oracle 练习 0004"><b>1.5.4.</b>Oracle 练习 0004</a></li>
<li class="chapter" data-level="1.5.5" data-path="0005.html"><a href="0005.html" title="Oracle 练习 0005"><b>1.5.5.</b>Oracle 练习 0005</a></li>
<li class="chapter" data-level="1.5.6" data-path="0006.html"><a href="0006.html" title="Oracle 练习 0006"><b>1.5.6.</b>Oracle 练习 0006</a></li>
<li class="chapter" data-level="1.5.7" data-path="0007.html"><a href="0007.html" title="Oracle 练习 0007"><b>1.5.7.</b>Oracle 练习 0007</a></li>
<li class="chapter" data-level="1.5.8" data-path="0008.html"><a href="0008.html" title="Oracle 练习 0008"><b>1.5.8.</b>Oracle 练习 0008</a></li></ul>
<hr />
<ul class="articles"><li class="chapter" data-level="1.5.9" data-path="1001.html"><a href="1001.html" title="Oracle 练习 1001"><b>1.5.9.</b>Oracle 练习 1001</a></li>
<li class="chapter" data-level="1.5.10" data-path="1002.html"><a href="1002.html" title="Oracle 练习 1002"><b>1.5.10.</b>Oracle 练习 1002</a></li>
<li class="chapter" data-level="1.5.11" data-path="1003.html"><a href="1003.html" title="Oracle 练习 1003"><b>1.5.11.</b>Oracle 练习 1003</a></li>
<li class="chapter" data-level="1.5.12" data-path="1004.html"><a href="1004.html" title="Oracle 练习 1004"><b>1.5.12.</b>Oracle 练习 1004</a></li>
<li class="chapter" data-level="1.5.13" data-path="1005.html"><a href="1005.html" title="Oracle 练习 1005"><b>1.5.13.</b>Oracle 练习 1005</a></li>
<li class="chapter" data-level="1.5.14" data-path="1006.html"><a href="1006.html" title="Oracle 练习 1006"><b>1.5.14.</b>Oracle 练习 1006</a></li>
<li class="chapter" data-level="1.5.15" data-path="1007.html"><a href="1007.html" title="Oracle 练习 1007"><b>1.5.15.</b>Oracle 练习 1007</a></li>
<li class="chapter" data-level="1.5.16" data-path="1008.html"><a href="1008.html" title="Oracle 练习 1008"><b>1.5.16.</b>Oracle 练习 1008</a></li>
<li class="chapter" data-level="1.5.17" data-path="1009.html"><a href="1009.html" title="Oracle 练习 1009"><b>1.5.17.</b>Oracle 练习 1009</a></li>
<li class="chapter" data-level="1.5.18" data-path="1010.html"><a href="1010.html" title="Oracle 练习 1010"><b>1.5.18.</b>Oracle 练习 1010</a></li>
<li class="chapter" data-level="1.5.19" data-path="1011.html"><a href="1011.html" title="Oracle 练习 1011"><b>1.5.19.</b>Oracle 练习 1011</a></li>
<li class="chapter" data-level="1.5.20" data-path="1012.html"><a href="1012.html" title="Oracle 练习 1012"><b>1.5.20.</b>Oracle 练习 1012</a></li>
<li class="chapter" data-level="1.5.21" data-path="1013.html"><a href="1013.html" title="Oracle 练习 1013"><b>1.5.21.</b>Oracle 练习 1013</a></li>
<li class="chapter" data-level="1.5.22" data-path="1014.html"><a href="1014.html" title="Oracle 练习 1014"><b>1.5.22.</b>Oracle 练习 1014</a></li>
<li class="chapter" data-level="1.5.23" data-path="1015.html"><a href="1015.html" title="Oracle 练习 1015"><b>1.5.23.</b>Oracle 练习 1015</a></li>
<li class="chapter" data-level="1.5.24" data-path="1016.html"><a href="1016.html" title="Oracle 练习 1016"><b>1.5.24.</b>Oracle 练习 1016</a></li>
<li class="chapter" data-level="1.5.25" data-path="1017.html"><a href="1017.html" title="Oracle 练习 1017"><b>1.5.25.</b>Oracle 练习 1017</a></li>
<li class="chapter" data-level="1.5.26" data-path="1018.html"><a href="1018.html" title="Oracle 练习 1018"><b>1.5.26.</b>Oracle 练习 1018</a></li>
<li class="chapter" data-level="1.5.27" data-path="1019.html"><a href="1019.html" title="Oracle 练习 1019"><b>1.5.27.</b>Oracle 练习 1019</a></li>
<li class="chapter" data-level="1.5.28" data-path="1020.html"><a href="1020.html" title="Oracle 练习 1020"><b>1.5.28.</b>Oracle 练习 1020</a></li>
<li class="chapter" data-level="1.5.29" data-path="1021.html"><a href="1021.html" title="Oracle 练习 1021"><b>1.5.29.</b>Oracle 练习 1021</a></li>
<li class="chapter" data-level="1.5.30" data-path="1022.html"><a href="1022.html" title="Oracle 练习 1022"><b>1.5.30.</b>Oracle 练习 1022</a></li>
<li class="chapter" data-level="1.5.31" data-path="1023.html"><a href="1023.html" title="Oracle 练习 1023"><b>1.5.31.</b>Oracle 练习 1023</a></li></ul>
<hr />
<ul class="articles"><li class="chapter" data-level="1.5.32" data-path="2001.html"><a href="2001.html" title="Oracle 练习 2001"><b>1.5.32.</b>Oracle 练习 2001</a></li>
<li class="chapter" data-level="1.5.33" data-path="2002.html"><a href="2002.html" title="Oracle 练习 2002"><b>1.5.33.</b>Oracle 练习 2002</a></li>
<li class="chapter" data-level="1.5.34" data-path="2003.html"><a href="2003.html" title="Oracle 练习 2003"><b>1.5.34.</b>Oracle 练习 2003</a></li>
<li class="chapter" data-level="1.5.35" data-path="2004.html"><a href="2004.html" title="Oracle 练习 2004"><b>1.5.35.</b>Oracle 练习 2004</a></li>
<li class="chapter" data-level="1.5.36" data-path="2005.html"><a href="2005.html" title="Oracle 练习 2005"><b>1.5.36.</b>Oracle 练习 2005</a></li>
<li class="chapter" data-level="1.5.37" data-path="2006.html"><a href="2006.html" title="Oracle 练习 2006"><b>1.5.37.</b>Oracle 练习 2006</a></li>
<li class="chapter" data-level="1.5.38" data-path="2007.html"><a href="2007.html" title="Oracle 练习 2007"><b>1.5.38.</b>Oracle 练习 2007</a></li>
<li class="chapter" data-level="1.5.39" data-path="2008.html"><a href="2008.html" title="Oracle 练习 2008"><b>1.5.39.</b>Oracle 练习 2008</a></li>
<li class="chapter" data-level="1.5.40" data-path="2009.html"><a href="2009.html" title="Oracle 练习 2009"><b>1.5.40.</b>Oracle 练习 2009</a></li>
<li class="chapter" data-level="1.5.41" data-path="2010.html"><a href="2010.html" title="Oracle 练习 2010"><b>1.5.41.</b>Oracle 练习 2010</a></li>
<li class="chapter" data-level="1.5.42" data-path="2011.html"><a href="2011.html" title="Oracle 练习 2011"><b>1.5.42.</b>Oracle 练习 2011</a></li>
<li class="chapter" data-level="1.5.43" data-path="2012.html"><a href="2012.html" title="Oracle 练习 2012"><b>1.5.43.</b>Oracle 练习 2012</a></li>
<li class="chapter" data-level="1.5.44" data-path="2013.html"><a href="2013.html" title="Oracle 练习 2013"><b>1.5.44.</b>Oracle 练习 2013</a></li>
<li class="chapter" data-level="1.5.45" data-path="2014.html"><a href="2014.html" title="Oracle 练习 2014"><b>1.5.45.</b>Oracle 练习 2014</a></li>
<li class="chapter" data-level="1.5.46" data-path="2015.html"><a href="2015.html" title="Oracle 练习 2015"><b>1.5.46.</b>Oracle 练习 2015</a></li>
<li class="chapter" data-level="1.5.47" data-path="2016.html"><a href="2016.html" title="Oracle 练习 2016"><b>1.5.47.</b>Oracle 练习 2016</a></li>
<li class="chapter" data-level="1.5.48" data-path="2017.html"><a href="2017.html" title="Oracle 练习 2017"><b>1.5.48.</b>Oracle 练习 2017</a></li>
<li class="chapter" data-level="1.5.49" data-path="2018.html"><a href="2018.html" title="Oracle 练习 2018"><b>1.5.49.</b>Oracle 练习 2018</a></li></ul>
<hr />
<ul class="articles"><li class="chapter" data-level="1.5.50" data-path="3001.html"><a href="3001.html" title="Oracle 练习 3001"><b>1.5.50.</b>Oracle 练习 3001</a></li>
<li class="chapter" data-level="1.5.51" data-path="3002.html"><a href="3002.html" title="Oracle 练习 3002"><b>1.5.51.</b>Oracle 练习 3002</a></li>
<li class="chapter" data-level="1.5.52" data-path="3003.html"><a href="3003.html" title="Oracle 练习 3003"><b>1.5.52.</b>Oracle 练习 3003</a></li>
<li class="chapter" data-level="1.5.53" data-path="3004.html"><a href="3004.html" title="Oracle 练习 3004"><b>1.5.53.</b>Oracle 练习 3004</a></li></ul>
<hr />
<ul class="articles"><li class="chapter" data-level="1.5.54" data-path="选择题.html"><a href="选择题.html" title="Oracle 选择题"><b>1.5.54.</b>Oracle 选择题</a></li>
<li class="chapter active" data-level="1.5.55" data-path="图书销售系统.html"><a href="图书销售系统.html" title="图书销售系统"><b>1.5.55.</b>图书销售系统</a></li></ul></li></ul>
            <li class="divider"></li>
            <li>
                <a class="lsbook-link" href="https://github.com/liushilive/lsbook" target="blank">
                    本书使用 LsBook 发布
                </a>
            </li>
        </ul>
    </nav>
</div>

<div class="book-body">
    <div class="body-inner">
    <div class="book-header" role="navigation">
        <!-- Title -->
        <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i>
            <a href="../..">图书销售系统</a>
        </h1>
    </div>

    <div class="page-wrapper" role="main" tabindex="-1">
        <div class="page-inner">
            <div class="search-plus" id="book-search-results">
                <div class="search-noresults">
                    <section class="normal markdown-section">
                        <div id='anchor-navigation-ex-navbar'><i class='fa fa-anchor'></i><ul><li><span class='title-icon fa fa-hand-o-right'></span><a aria-label class='on-toolbar-action' href='' onclick="$('.fa.fa-align-justify').parent()[0].click();">目录</a></li><li><span class='title-icon fa fa-hand-o-right'></span><a href='#anchor_1'><b></b>图书销售系统</a></li></ul></div><a href='#anchor_1' id='anchorNavigationExGoTop'><i class='fa fa-arrow-up'></i></a>
                        <h1 id="anchor_1">
    <a class="anchor-navigation-ex-anchor" href="#anchor_1" name="anchor_1">
        <i aria-hidden="true" class="fa fa-link"></i>
    </a>图书销售系统
</h1>
<ol>
<li>
<p>根据图书销售系统关系模式设计，创建表 A-1 至表 A-6</p>
 <table>
   <caption>表A-1 CUSTOMERS</caption>
   <tr><th>字段名<th>数据类型<th>长度<th>约束<th>说明
   <tr><td>customer_id<td>NUMBER<td>4<td>PRIMARY KEY<td>客户编号
   <tr><td>name<td>CHAR<td>20<td>NOT NULL<td>客户名称
   <tr><td>phone<td>VARCHAR2<td>50<td>NOT NULL<td>电话
   <tr><td>email<td>VARCHAR2<td>50<td><td>Email
   <tr><td>address<td>VARCHAR2<td>200<td><td>地址
   <tr><td>code<td>VARCHAR2<td>10<td><td>邮政编码
 </table>
 <table>
   <caption>表A-2 PUBLISHERS</caption>
   <tr><th>字段名<th>数据类型<th>长度<th>约束<th>说明
   <tr><td>publisher_id<td>NUMBER<td>2<td>PRIMARY KEY<td>出版社号
   <tr><td>name<td>VARCHAR2<td>50<td><td>出版社名
   <tr><td>contact<td>CHAR<td>10<td><td>联系人
   <tr><td>phone<td>VARCHAR2<td>50<td><td>电话
 </table>
 <table>
   <caption>表A-3 BOOKS</caption>
   <tr><th>字段名<th>数据类型<th>长度<th>约束<th>说明
   <tr><td>ISBN<td>VARCHAR2<td>50<td>PRIMARY KEY<td>图书号
   <tr><td>title<td>VARCHAR2<td>50<td><td>图书名
   <tr><td>author<td>VARCHAR2<td>50<td><td>作者
   <tr><td>pubdate<td>DATE<td><td><td>出版日期
   <tr><td>publisher_id<td>NUMBER<td>2<td>FOREIGN KEY<td>出版社 ID
   <tr><td>cost<td>NUMBER<td>6,2<td><td>批发（大于 10 本）价格
   <tr><td>retail<td>NUMBER<td>6,2<td><td>零售价格
   <tr><td>category<td>VARCHAR2<td>50<td><td>图书类型
 </table>
 <table>
   <caption>表A-4 ORDERS</caption>
   <tr><th>字段名<th>数据类型<th>长度<th>约束<th>说明
   <tr><td>order_id<td>NUMBER<td>4<td>PRIMARY KEY<td>订单号
   <tr><td>customer_id<td>NUMBER<td>4<td>FOREIGN KEY<td>顾客号
   <tr><td>orderdate<td>DATE<td><td>NOT NULL<td>订货日期
   <tr><td>shipdate<td>DATE<td><td><td>发货日期
   <tr><td>shipaddress<td>VARCHAR2<td>200<td><td>发货地址
   <tr><td>shipcode<td>VARCHAR2<td>10<td><td>发货邮政编码
 </table>
 <table>
   <caption>表A-5 ORDERITEM</caption>
   <tr><th>字段名<th>数据类型<th>长度<th>约束<th>说明
   <tr><td>order_id<td>NUMBER<td>4<td>FOREIGN KEY<td>订单号
   <tr><td>item_id<td>NUMBER<td>4<td><td>订单明细号
   <tr><td>ISBN<td>VARCHAR2<td>50<td>NOT NULL<td>图书编号
   <tr><td>quantity<td>NUMBER<td>4<td><td>图书数量
 </table>
 <table>
   <caption>表A-6 PROMOTION</caption>
   <tr><th>字段名<th>数据类型<th>长度<th>约束<th>说明
   <tr><td>gift_id<td>NUMBER<td>2<td><td>礼品编号
   <tr><td>name<td>CHAR<td>20<td>PRIMARY KEY<td>礼品名称
   <tr><td>minretail<td>NUMBER<td>5,2<td>NOT NULL<td>图书最低价
   <tr><td>maxretial<td>NUMBER<td>5,2<td><td>图书最高价
 </table>
<sec data-title="点我看答案"><div class="panel panel-default"><div class="panel-heading"><b>点我看答案<a class="pull-right section atTitle btn btn-default " target="sectionx1"><span class="fa fa-angle-down" /></a></b></div><div class="panel-collapse collapse" id="sectionx1"><div class="panel-body"><pre class="line-numbers"><code class="lang-sql rainbow-braces">create table customers
(
    customer_id number(4) primary key,
    name        char(20)     not null,
    phone       varchar2(50) not null,
    email       varchar2(50),
    address     varchar2(200),
    code        varchar2(10)
);

create table publishers
(
    publisher_id number(2) primary key,
    name         varchar2(50),
    contact      char(10),
    phone        varchar2(50)
);

create table books
(
    isbn         varchar2(50) primary key,
    title        varchar2(50),
    author       varchar2(50),
    pubdate      date,
    publisher_id number(2),
    cost         number(6, 2),
    retail       number(6, 2),
    category     varchar2(50)
);
alter table books
    add constraint fk_books_publisher_id foreign key (publisher_id)
        references publishers (publisher_id);

create table orders
(
    order_id    number(4) primary key,
    customer_id number(4),
    orderdate   date not null,
    shipdate    date,
    shipaddress varchar2(200),
    shipcode    varchar2(10)
);
alter table orders
    add constraint fk_orders_customer_id foreign key (customer_id)
        references customers (customer_id);

create table orderitem
(
    order_id number(4),
    item_id  number(4),
    isbn     varchar2(50) not null,
    quantity number(4)
);
alter table orderitem
    add constraint fk_orderitem_order_id foreign key (order_id)
        references orders (order_id);

create table promotion
(
    gift_id   number(2),
    name      char(20) primary key,
    minretail number(5, 2) not null,
    maxretial number(5, 2)
);
</code></pre></div></div></div></sec>
</li>
<li>
<p>将表 A-7 至表 A-12 中的数据插入数据库的相应表中。</p>
 <table>
   <caption>表A-7 CUSTOMERS</caption>
   <tr><th>customer_id<th>name<th>phone<th>email<th>address<th>code
   <tr><td>1<td>王牧<td>83823422<td>Wangmu@sina.com<td>北京<td>110010
   <tr><td>2<td>李青<td>83824566<td>Liqing@sina.com<td>大连<td>116023
 </table>
 <table>
   <caption>表A-8 PUBLISHERS</caption>
   <tr><th>publisher_id<th>name<th>contact<th>Phone
   <tr><td>1<td>电子工业出版社<td>张芳<td>56231234
   <tr><td>2<td>机械工业出版社<td>孙翔<td>89673456
 </table>
 <table>
   <caption>表A-9 BOOKS</caption>
   <tr><th>ISBN<th>title<th>author<th>pubdate<th>publisher_id<th>cost<th>retail<th>category
   <tr><td>978-7-121-18619-8<td>文件化基础<td>王澜<td>2010-1-1<td>2<td>35<td>28<td>管理
   <tr><td>978-7-122-18619-8<td>Oracle<td>孙风栋<td>2011-2-1<td>1<td>40<td>32<td>计算机
 </table>
 <table>
   <caption>表A-10 ORDERS</caption>
   <tr><th>order_id<th>customer_id<th>orderdate<th>shipdate<th>shipaddress<th>shipcode
   <tr><td>1000<td>1<td>2013-2-1<td>2013-2-5<td>大连<td>116023
   <tr><td>1001<td>2<td>2013-3-1<td>2013-3-10<td>大连<td>116023
 </table>
 <table>
   <caption>表A-11 ORDERITEM</caption>
   <tr><th>order_id<th>item_id<th>ISBN<th>quantity
   <tr><td>1000<td>1<td>978-7-121-18619-8<td>5
   <tr><td>1000<td>2<td>978-7-122-18619-8<td>20
   <tr><td>1001<td>1<td>978-7-121-18619-8<td>15
 </table>
 <table>
   <caption>表A-12 PROMOTION</caption>
   <tr><th>gift_id<th>name<th>minretail<th>maxretial
   <tr><td>1<td>签字笔<td>100<td>150
   <tr><td>2<td>笔记本<td>150<td>300
   <tr><td>3<td>保温杯<td>300<td>500
 </table>
<sec data-title="点我看答案"><div class="panel panel-default"><div class="panel-heading"><b>点我看答案<a class="pull-right section atTitle btn btn-default " target="sectionx2"><span class="fa fa-angle-down" /></a></b></div><div class="panel-collapse collapse" id="sectionx2"><div class="panel-body"><pre class="line-numbers"><code class="lang-sql rainbow-braces">insert into customers
values (1, &#x27;王牧&#x27;, &#x27;83823422&#x27;, &#x27;Wangmu@sina.com&#x27;, &#x27;北京&#x27;, &#x27;110010&#x27;);
insert into customers
values (2, &#x27;李青&#x27;, &#x27;83824566&#x27;, &#x27;Liqing@sina.com&#x27;, &#x27;大连&#x27;, &#x27;116023&#x27;);

insert into publishers
values (1, &#x27;电子工业出版社&#x27;, &#x27;张芳&#x27;, &#x27;56231234&#x27;);
insert into publishers
values (2, &#x27;机械工业出版社&#x27;, &#x27;孙翔&#x27;, &#x27;89673456&#x27;);

insert into books
values (&#x27;978-7-121-18619-8&#x27;, &#x27;文件化基础&#x27;, &#x27;王澜&#x27;, to_date(&#x27;2010-1-1&#x27;, &#x27;YYYY-MM-DD&#x27;), 2, 35, 28, &#x27;管理&#x27;);
insert into books
values (&#x27;978-7-122-18619-8&#x27;, &#x27;Oracle&#x27;, &#x27;孙风栋&#x27;, to_date(&#x27;2011-2-1&#x27;, &#x27;YYYY-MM-DD&#x27;), 1, 40, 32, &#x27;计算机&#x27;);

insert into orders
values (1000, 1, to_date(&#x27;2013-2-1&#x27;, &#x27;YYYY-MM-DD&#x27;), to_date(&#x27;2013-2-5&#x27;, &#x27;YYYY-MM-DD&#x27;), &#x27;大连&#x27;, &#x27;116023&#x27;);
insert into orders
values (1001, 2, to_date(&#x27;2013-3-1&#x27;, &#x27;YYYY-MM-DD&#x27;), to_date(&#x27;2013-3-10&#x27;, &#x27;YYYY-MM-DD&#x27;), &#x27;大连&#x27;, &#x27;116023&#x27;);

insert into orderitem
values (1000, 1, &#x27;978-7-121-18619-8&#x27;, 5);
insert into orderitem
values (1000, 2, &#x27;978-7-122-18619-8&#x27;, 20);
insert into orderitem
values (1001, 1, &#x27;978-7-121-18619-8&#x27;, 15);

insert into promotion
values (1, &#x27;签字笔&#x27;, 100, 150);
insert into promotion
values (2, &#x27;笔记本&#x27;, 150, 300);
insert into promotion
values (3, &#x27;保温杯&#x27;, 300, 500);
</code></pre></div></div></div></sec>
</li>
<li>
<p>将 ISBN 为 978-7-121-18619-8 的图书的零售价格（retail）修改为 30。</p>
<sec data-title="点我看答案"><div class="panel panel-default"><div class="panel-heading"><b>点我看答案<a class="pull-right section atTitle btn btn-default " target="sectionx3"><span class="fa fa-angle-down" /></a></b></div><div class="panel-collapse collapse" id="sectionx3"><div class="panel-body"><pre class="line-numbers"><code class="lang-sql rainbow-braces">update books
set retail = 30
where isbn = &#x27;978-7-121-18619-8&#x27;;
</code></pre></div></div></div></sec>
</li>
<li>
<p>将订单号为 1000 的订单的发货日期修改为“2013-2-2”。</p>
<sec data-title="点我看答案"><div class="panel panel-default"><div class="panel-heading"><b>点我看答案<a class="pull-right section atTitle btn btn-default " target="sectionx4"><span class="fa fa-angle-down" /></a></b></div><div class="panel-collapse collapse" id="sectionx4"><div class="panel-body"><pre class="line-numbers"><code class="lang-sql rainbow-braces">update orders
set shipdate = to_date(&#x27;2013-2-2&#x27;, &#x27;YYYY-MM-DD&#x27;)
where order_id = 1000;
</code></pre></div></div></div></sec>
</li>
<li>
<p>查询 BOOKS 表中包含的所有图书列表。</p>
<sec data-title="点我看答案"><div class="panel panel-default"><div class="panel-heading"><b>点我看答案<a class="pull-right section atTitle btn btn-default " target="sectionx5"><span class="fa fa-angle-down" /></a></b></div><div class="panel-collapse collapse" id="sectionx5"><div class="panel-body"><pre class="line-numbers"><code class="lang-sql rainbow-braces">select *
from books;
</code></pre></div></div></div></sec>
</li>
<li>
<p>列出 BOOKS 表中有图书类型非空的图书书名。</p>
<sec data-title="点我看答案"><div class="panel panel-default"><div class="panel-heading"><b>点我看答案<a class="pull-right section atTitle btn btn-default " target="sectionx6"><span class="fa fa-angle-down" /></a></b></div><div class="panel-collapse collapse" id="sectionx6"><div class="panel-body"><pre class="line-numbers"><code class="lang-sql rainbow-braces">select title
from books
where category is not null;
</code></pre></div></div></div></sec>
</li>
<li>
<p>列出 BOOKS 表中每本书的书名和出版日期，对 pubdate 字段使用 Publication Date 列标题。</p>
<sec data-title="点我看答案"><div class="panel panel-default"><div class="panel-heading"><b>点我看答案<a class="pull-right section atTitle btn btn-default " target="sectionx7"><span class="fa fa-angle-down" /></a></b></div><div class="panel-collapse collapse" id="sectionx7"><div class="panel-body"><pre class="line-numbers"><code class="lang-sql rainbow-braces">select title, pubdate &quot;Publication Date&quot;
from books;
</code></pre></div></div></div></sec>
</li>
<li>
<p>列出 CUSTOMERS 表中每一个客户的客户号及他们所在的地址。</p>
<sec data-title="点我看答案"><div class="panel panel-default"><div class="panel-heading"><b>点我看答案<a class="pull-right section atTitle btn btn-default " target="sectionx8"><span class="fa fa-angle-down" /></a></b></div><div class="panel-collapse collapse" id="sectionx8"><div class="panel-body"><pre class="line-numbers"><code class="lang-sql rainbow-braces">select customer_id, address
from customers;
</code></pre></div></div></div></sec>
</li>
<li>
<p>创建一个包含各个出版社的名称、联系人及出版社电话号码的列表。其中，联系人的列在显示的结果中重命名为 Contact Person。</p>
<sec data-title="点我看答案"><div class="panel panel-default"><div class="panel-heading"><b>点我看答案<a class="pull-right section atTitle btn btn-default " target="sectionx9"><span class="fa fa-angle-down" /></a></b></div><div class="panel-collapse collapse" id="sectionx9"><div class="panel-body"><pre class="line-numbers"><code class="lang-sql rainbow-braces">select name, contact &quot;Contact Person&quot;, phone
from publishers;
</code></pre></div></div></div></sec>
</li>
<li>
<p>查询下达了订单的每一个客户的客户号。</p>
<sec data-title="点我看答案"><div class="panel panel-default"><div class="panel-heading"><b>点我看答案<a class="pull-right section atTitle btn btn-default " target="sectionx10"><span class="fa fa-angle-down" /></a></b></div><div class="panel-collapse collapse" id="sectionx10"><div class="panel-body"><pre class="line-numbers"><code class="lang-sql rainbow-braces">select distinct customer_id
from orders;
</code></pre></div></div></div></sec>
</li>
<li>
<p>查询 2013 年 3 月 1 日之后发货的订单。</p>
<sec data-title="点我看答案"><div class="panel panel-default"><div class="panel-heading"><b>点我看答案<a class="pull-right section atTitle btn btn-default " target="sectionx11"><span class="fa fa-angle-down" /></a></b></div><div class="panel-collapse collapse" id="sectionx11"><div class="panel-body"><pre class="line-numbers"><code class="lang-sql rainbow-braces">select *
from orders
where shipdate &gt; to_date(&#x27;2013-3-1&#x27;, &#x27;YYYY-MM-DD&#x27;);
</code></pre></div></div></div></sec>
</li>
<li>
<p>查询居住在北京或大连的客户，将结果按姓名的升序排列。</p>
<sec data-title="点我看答案"><div class="panel panel-default"><div class="panel-heading"><b>点我看答案<a class="pull-right section atTitle btn btn-default " target="sectionx12"><span class="fa fa-angle-down" /></a></b></div><div class="panel-collapse collapse" id="sectionx12"><div class="panel-body"><pre class="line-numbers"><code class="lang-sql rainbow-braces">select *
from customers
where address in (&#x27;北京&#x27;, &#x27;大连&#x27;)
order by name asc;
</code></pre></div></div></div></sec>
</li>
<li>
<p>列出姓“王”的作者编写的所有图书信息，并将结果按姓名降序排序。</p>
<sec data-title="点我看答案"><div class="panel panel-default"><div class="panel-heading"><b>点我看答案<a class="pull-right section atTitle btn btn-default " target="sectionx13"><span class="fa fa-angle-down" /></a></b></div><div class="panel-collapse collapse" id="sectionx13"><div class="panel-body"><pre class="line-numbers"><code class="lang-sql rainbow-braces">select *
from books
where author like &#x27;王%&#x27;
order by author desc;
</code></pre></div></div></div></sec>
</li>
<li>
<p>查询“儿童”类和“烹饪”类的所有图书。</p>
<sec data-title="点我看答案"><div class="panel panel-default"><div class="panel-heading"><b>点我看答案<a class="pull-right section atTitle btn btn-default " target="sectionx14"><span class="fa fa-angle-down" /></a></b></div><div class="panel-collapse collapse" id="sectionx14"><div class="panel-body"><pre class="line-numbers"><code class="lang-sql rainbow-braces">select *
from books
where category in (&#x27;儿童&#x27;, &#x27;烹饪&#x27;);
</code></pre></div></div></div></sec>
</li>
<li>
<p>查询书名的第二个字母是“A”、第四个字母是“N”的图书信息。</p>
<sec data-title="点我看答案"><div class="panel panel-default"><div class="panel-heading"><b>点我看答案<a class="pull-right section atTitle btn btn-default " target="sectionx15"><span class="fa fa-angle-down" /></a></b></div><div class="panel-collapse collapse" id="sectionx15"><div class="panel-body"><pre class="line-numbers"><code class="lang-sql rainbow-braces">select *
from books
where title like &#x27;_A_N%&#x27;;
</code></pre></div></div></div></sec>
</li>
<li>
<p>查询电子工业出版社在 2012 年出版的所有“计算机”类图书的名称。</p>
<sec data-title="点我看答案"><div class="panel panel-default"><div class="panel-heading"><b>点我看答案<a class="pull-right section atTitle btn btn-default " target="sectionx16"><span class="fa fa-angle-down" /></a></b></div><div class="panel-collapse collapse" id="sectionx16"><div class="panel-body"><pre class="line-numbers"><code class="lang-sql rainbow-braces">select *
from books b
join publishers p
    on to_char(b.pubdate, &#x27;YYYY&#x27;) = 2012
        and b.category = &#x27;计算机&#x27;;
        and p.publisher_id = b.publisher_id
        and p.name = &#x27;电子工业出版社&#x27;
</code></pre></div></div></div></sec>
</li>
<li>
<p>查询图书名称、出版社名称、出版社联系人的名称和电话号码。</p>
<sec data-title="点我看答案"><div class="panel panel-default"><div class="panel-heading"><b>点我看答案<a class="pull-right section atTitle btn btn-default " target="sectionx17"><span class="fa fa-angle-down" /></a></b></div><div class="panel-collapse collapse" id="sectionx17"><div class="panel-body"><pre class="line-numbers"><code class="lang-sql rainbow-braces">select b.title, p.name, p.contact, p.phone
from books b
    join publishers p
        on p.publisher_id = b.publisher_id;
</code></pre></div></div></div></sec>
</li>
<li>
<p>查询当前还没有发货的订单信息及下达订单的用户名，查询结果按下达订单日期排序。</p>
<sec data-title="点我看答案"><div class="panel panel-default"><div class="panel-heading"><b>点我看答案<a class="pull-right section atTitle btn btn-default " target="sectionx18"><span class="fa fa-angle-down" /></a></b></div><div class="panel-collapse collapse" id="sectionx18"><div class="panel-body"><pre class="line-numbers"><code class="lang-sql rainbow-braces">select o.*, c.name
from orders o
join customers c
    on c.customer_id = o.customer_id
        and o.shipdate is null
order by o.orderdate;
</code></pre></div></div></div></sec>
</li>
<li>
<p>查询已经购买了“计算机”类图书的所有人的客户号和姓名。</p>
<sec data-title="点我看答案"><div class="panel panel-default"><div class="panel-heading"><b>点我看答案<a class="pull-right section atTitle btn btn-default " target="sectionx19"><span class="fa fa-angle-down" /></a></b></div><div class="panel-collapse collapse" id="sectionx19"><div class="panel-body"><pre class="line-numbers"><code class="lang-sql rainbow-braces">select c.customer_id, c.name
from orders o
join customers c
    on c.customer_id = o.customer_id
join orderitem o1
    on o1.order_id = o.order_id
join books b
    on o1.isbn = b.isbn
where b.category = &#x27;计算机&#x27;;
</code></pre></div></div></div></sec>
</li>
<li>
<p>查询“王牧”购买的图书的 ISBN 以及书名。</p>
<sec data-title="点我看答案"><div class="panel panel-default"><div class="panel-heading"><b>点我看答案<a class="pull-right section atTitle btn btn-default " target="sectionx20"><span class="fa fa-angle-down" /></a></b></div><div class="panel-collapse collapse" id="sectionx20"><div class="panel-body"><pre class="line-numbers"><code class="lang-sql rainbow-braces">select b.isbn, b.title
from orders o
join customers c
    on c.customer_id = o.customer_id
join orderitem o1
    on o1.order_id = o.order_id
join books b
    on o1.isbn = b.isbn
where c.name = &#x27;王牧&#x27;;
</code></pre></div></div></div></sec>
</li>
<li>
<p>查询订购图书“Oracle 数据库基础”的客户将收到什么样的礼品。</p>
<sec data-title="点我看答案"><div class="panel panel-default"><div class="panel-heading"><b>点我看答案<a class="pull-right section atTitle btn btn-default " target="sectionx21"><span class="fa fa-angle-down" /></a></b></div><div class="panel-collapse collapse" id="sectionx21"><div class="panel-body"><pre class="line-numbers"><code class="lang-sql rainbow-braces">select c.name, p.name
from (
    select t1.order_id, sum(t1.总价) 订单总价
    from (
        select o1.order_id, sum(o1.quantity) * (case when sum(o1.quantity) &gt; 10 then b.cost else b.retail end) 总价
        from orderitem o1
        join books b
            on o1.isbn = b.isbn
        group by o1.order_id, b.cost, b.retail
    ) t1
    group by t1.order_id
) t2,
promotion p,
orders o1,
customers c,
orderitem o2,
books b2
where t2.订单总价 between p.minretail and p.maxretial
    and t2.order_id = o1.order_id
    and o1.customer_id = c.customer_id
    and o1.order_id = o2.order_id
    and o2.isbn = b2.isbn
    and b2.title = &#x27;Oracle&#x27;;
</code></pre></div></div></div></sec>
</li>
<li>
<p>确定客户“张扬”订购的图书的作者。</p>
<sec data-title="点我看答案"><div class="panel panel-default"><div class="panel-heading"><b>点我看答案<a class="pull-right section atTitle btn btn-default " target="sectionx22"><span class="fa fa-angle-down" /></a></b></div><div class="panel-collapse collapse" id="sectionx22"><div class="panel-body"><pre class="line-numbers"><code class="lang-sql rainbow-braces">select b.author
from customers c1
join orders o1
    on c1.customer_id = o1.customer_id
join orderitem o2
    on o1.order_id = o2.order_id
join books b
    on o2.isbn = b.isbn
where c1.name = &#x27;张扬&#x27;;
</code></pre></div></div></div></sec>
</li>
<li>
<p>查询 CUSTOMERS 表中的每一个客户所下达的订单数量。</p>
<sec data-title="点我看答案"><div class="panel panel-default"><div class="panel-heading"><b>点我看答案<a class="pull-right section atTitle btn btn-default " target="sectionx23"><span class="fa fa-angle-down" /></a></b></div><div class="panel-collapse collapse" id="sectionx23"><div class="panel-body"><pre class="line-numbers"><code class="lang-sql rainbow-braces">select c1.name, count(*)
from customers c1
join orders o1
    on c1.customer_id = o1.customer_id
group by c1.customer_id, c1.name;
</code></pre></div></div></div></sec>
</li>
<li>
<p>查询价格低于同一种类图书的平均价格的图书的信息。</p>
<sec data-title="点我看答案"><div class="panel panel-default"><div class="panel-heading"><b>点我看答案<a class="pull-right section atTitle btn btn-default " target="sectionx24"><span class="fa fa-angle-down" /></a></b></div><div class="panel-collapse collapse" id="sectionx24"><div class="panel-body"><pre class="line-numbers"><code class="lang-sql rainbow-braces">select *
from books b1
where retail &lt; (
    select avg(retail)
    from books b2
    where b1.category = b2.category
);
</code></pre></div></div></div></sec>
</li>
<li>
<p>查询每个出版社出版图书的平均价格、最高价格、最低价格。</p>
<sec data-title="点我看答案"><div class="panel panel-default"><div class="panel-heading"><b>点我看答案<a class="pull-right section atTitle btn btn-default " target="sectionx25"><span class="fa fa-angle-down" /></a></b></div><div class="panel-collapse collapse" id="sectionx25"><div class="panel-body"><pre class="line-numbers"><code class="lang-sql rainbow-braces">select p.name, avg(b.retail), max(b.retail), min(b.retail)
from books b, publishers p
where b.publisher_id = p.publisher_id
group by b.publisher_id,p.name;
</code></pre></div></div></div></sec>
</li>
<li>
<p>统计每个客户购买图书的数量及总价钱。</p>
<sec data-title="点我看答案"><div class="panel panel-default"><div class="panel-heading"><b>点我看答案<a class="pull-right section atTitle btn btn-default " target="sectionx26"><span class="fa fa-angle-down" /></a></b></div><div class="panel-collapse collapse" id="sectionx26"><div class="panel-body"><pre class="line-numbers"><code class="lang-sql rainbow-braces">select customer_id, name, sum(总数量), sum(订单总价)
from (
    select c2.customer_id, c2.name, t2.*
    from (
        select t1.order_id, sum(t1.数量) 总数量, sum(t1.总价) 订单总价
        from (
            select o1.order_id,
                sum(o1.quantity) 数量,
                sum(o1.quantity) * (case when sum(o1.quantity) &gt; 10 then b.cost else b.retail end) 总价
            from orderitem o1
            join books b
                on o1.isbn = b.isbn
            group by o1.order_id, b.cost, b.retail
        ) t1
        group by t1.order_id
    ) t2,
    orders o,
    customers c2
    where t2.order_id = o.order_id
        and o.customer_id = c2.customer_id
)
group by customer_id, name;
</code></pre></div></div></div></sec>
</li>
</ol>

                        <footer class="page-footer">
<span class="copyright">© 2021 刘士. All rights reserved.</span>
<span class="footer-modification">
<span id="busuanzi_container_site_uv" style="display:none">本站访客数 <span id="busuanzi_value_site_uv">
</span> 人次</span></span>
</footer><script>
function busuanzi(){
    if (document.domain != "127.0.0.1") {$.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");}
}
setTimeout('busuanzi()', 2000);
</script><script>

</script>
                    </section>
                </div>
                <div class="search-results">
                    <div class="has-results">
                        <h1 class="search-results-title"><span class='search-results-count'></span> 结果匹配 "<span class='search-query'></span>"</h1>
                        <ul class="search-results-list"></ul>
                    </div>
                    <div class="no-results">
                        <h1 class="search-results-title">没有匹配的结果 "<span class='search-query'></span>"</h1>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<a aria-label="Previous page: Oracle 选择题" class="navigation navigation-prev" href="选择题.html">
    <i class="fa fa-angle-left"></i>
</a>



</div>
<script>
    var lsbook = lsbook || [];
    lsbook.push(function () {
        lsbook.page.hasChanged({
            "config": {
                "github_url":"https://liushilive.github.io/",
                "language": "zh-cn",
                "previous_page_link": "选择题.html",
                "next_page_link": ""
            },
            "basePath": "../..",
            "js": {'prism': ['../../../asserts/lsbook/prismjs/clipboard.min.js', '../../../asserts/lsbook/prismjs/prism.js']}
        });
    });
</script>
</div>

<script src="../../../asserts/lsbook/jquery-3.3.1.min.js"></script>
<script charset="UTF-8" src="../../../asserts/lsbook/jquery_mar/jquery.mark.js"></script>
<script src="../../../asserts/lsbook/lightbox/js/lightbox.min.js"></script>
<script src="../../../asserts/lsbook/lsbook.min.js"></script>

</body>
</html>
